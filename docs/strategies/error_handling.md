# 브로커별 API & WebSocket Failure Mode 분석

본 문서는 수집단(Collector) 구현 시 브로커별로 상이한 실패 메시지 포맷을 통일적으로 처리하기 위한 에러 핸들링 가이드를 정리합니다.

## 1. 한국투자증권 (KIS)
| 분류 | 에러 코드 | 의미 및 대응 전략 |
| :--- | :--- | :--- |
| **유량 제한** | `EGW00201` | 초당 호출 건수 초과. 지수 백오프 재시도. |
| **WS 비정상 종료** | `1006` | 네트워크 단절 등 비정상 종료. 자동 재연결 시도. |

## 2. 키움증권 (Open API RE)
| 분류 | 에러 코드 | 의미 및 대응 전략 |
| :--- | :--- | :--- |
| **연결 실패** | `-101` | 서버 접속 불가. 일정 시간 대기 후 재시도. |
| **조회 제한** | `-209`, `-200` | 시세 조회/과부하 제한. 큐를 통한 유량 제어. |

## 3. 미래에셋증권 (Open API)
| 분류 | 에러 태그 | 의미 및 대응 전략 |
| :--- | :--- | :--- |
| **인증 요망** | `INVALID_AUTH` | Token 만료. 갱신 후 재시도. |
| **연결 끊김** | `READ_TIMEOUT` | 웹소켓 타임아웃. Heartbeat 조정 및 재연결. |
