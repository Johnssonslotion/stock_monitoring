# Kiwoom WebSocket FID (Field ID) 완전 매핑

## 개요
실시간 데이터의 `values` 객체는 FID를 키로 하는 key-value 쌍입니다.
모든 FID 값은 **문자열(String)** 형태로 전송됩니다.

---

## 주문체결 (00) - 공식 문서 기준

| FID | 필드명 | 타입 | 설명 |
|-----|--------|------|------|
| 9201 | 계좌번호 | String | - |
| 9203 | 주문번호 | String | - |
| 9205 | 관리자사번 | String | - |
| 9001 | 종목코드/업종코드 | String | - |
| 912 | 주문업무분류 | String | - |
| 913 | 주문상태 | String | 접수, 체결, 확인, 취소, 거부 |
| 302 | 종목명 | String | - |
| 900 | 주문수량 | String | - |
| 901 | 주문가격 | String | - |
| 902 | 미체결수량 | String | - |
| 903 | 체결누계금액 | String | - |
| 904 | 원주문번호 | String | - |
| 905 | 주문구분 | String | "+/-", 매도, 매수, 매도정정, 매수정정, 매수취소, 매도취소 |
| 906 | 매매구분 | String | 보통, 시장가, 조건부지정가, 최유리지정가, 최우선지정가, 보통(IOC), 시장가(IOC), 최유리(IOC), 보통(FOK), 시장가(FOK), 최유리(FOK), 스톱지정가, 중간가, 중간가(IOC), 중간가(FOK), 장전시간외, 장후시간외, 시간외대량, 시간외바스켓, 시간외자사주, 시간외단일가 |
| 907 | 매도수구분 | String | 1:매도, 2:매수 |
| 908 | 주문/체결시간 | String | - |
| 909 | 체결번호 | String | - |
| 910 | 체결가 | String | 체결가격 |
| 911 | 체결량 | String | 체결량 |
| 10 | 현재가 | String | 현재가 |
| 27 | (최우선)매도호가 | String | 매도 1호가 |
| 28 | (최우선)매수호가 | String | 매수 1호가 |
| 914 | 단위체결가 | String | - |
| 915 | 단위체결량 | String | - |
| 938 | 당일매매수수료 | String | - |
| 939 | 당일매매세금 | String | - |
| 919 | 거부사유 | String | - |
| 920 | 화면번호 | String | - |
| 921 | 터미널번호 | String | - |
| 922 | 신용구분 | String | 실시간 체결용 |
| 923 | 대출일 | String | 실시간 체결용 |
| 10010 | 시간외단일가_현재가 | String | - |
| 2134 | 거래소구분 | String | 0:통합, 1:KRX, 2:NXT |
| 2135 | 거래소구분명 | String | 통합, KRX, NXT |
| 2136 | SOR여부 | String | Y, N |

## 주식체결 (0B) - 공식 문서 기준

### 가격/호가
| FID | 필드명 | 설명 |
|-----|--------|------|
| 10 | 현재가 | 현재 체결가격 |
| 27 | 매도호가 | 최우선 매도호가 |
| 28 | 매수호가 | 최우선 매수호가 |
| 910 | 체결가 | 단위 체결가 |
| 914 | 단위체결가 | 단위 체결가 |

### 거래량
| FID | 필드명 | 설명 |
|-----|--------|------|
| 911 | 체결량 | 단위 체결량 |
| 915 | 단위체결량 | 단위 체결량 |
| 15 | 거래량 | 누적 거래량 (추정) |

### 기타
| FID | 필드명 | 설명 |
|-----|--------|------|
| 302 | 종목명 | 종목 이름 |
| 2134 | 거래소구분 | 0:통합, 1:KRX, 2:NXT |
| 2135 | 거래소구분명 | 통합, KRX, NXT |
| 2136 | SOR여부 | Y, N |
| 10010 | 시간외단일가_현재가 | 시간외 단일가 현재가 |

---

## 주식호가잔량 (0D) - 공식 문서 기준

### 매도호가 (1~10호가)
| FID | 필드명 | 설명 |
|-----|--------|------|
| 매도호가1 | 매도1호가 | 최우선 매도호가 |
| 매도호가2 | 매도2호가 | 2순위 매도호가 |
| 매도호가3 | 매도3호가 | 3순위 매도호가 |
| 매도호가4 | 매도4호가 | 4순위 매도호가 |
| 매도호가5 | 매도5호가 | 5순위 매도호가 |
| 매도호가6 | 매도6호가 | 6순위 매도호가 |
| 매도호가7 | 매도7호가 | 7순위 매도호가 |
| 매도호가8 | 매도8호가 | 8순위 매도호가 |
| 매도호가9 | 매도9호가 | 9순위 매도호가 |
| 매도호가10 | 매도10호가 | 10순위 매도호가 |

### 매도잔량 (1~10호가)
| FID | 필드명 | 설명 |
|-----|--------|------|
| 매도잔량1 | 매도1호가잔량 | 최우선 매도호가 잔량 |
| 매도잔량2 | 매도2호가잔량 | 2순위 매도호가 잔량 |
| 매도잔량3 | 매도3호가잔량 | 3순위 매도호가 잔량 |
| 매도잔량4 | 매도4호가잔량 | 4순위 매도호가 잔량 |
| 매도잔량5 | 매도5호가잔량 | 5순위 매도호가 잔량 |
| 매도잔량6 | 매도6호가잔량 | 6순위 매도호가 잔량 |
| 매도잔량7 | 매도7호가잔량 | 7순위 매도호가 잔량 |
| 매도잔량8 | 매도8호가잔량 | 8순위 매도호가 잔량 |
| 매도잔량9 | 매도9호가잔량 | 9순위 매도호가 잔량 |
| 매도잔량10 | 매도10호가잔량 | 10순위 매도호가 잔량 |

### 매수호가 (1~10호가)
| FID | 필드명 | 설명 |
|-----|--------|------|
| 매수호가1 | 매수1호가 | 최우선 매수호가 |
| 매수호가2 | 매수2호가 | 2순위 매수호가 |
| 매수호가3 | 매수3호가 | 3순위 매수호가 |
| 매수호가4 | 매수4호가 | 4순위 매수호가 |
| 매수호가5 | 매수5호가 | 5순위 매수호가 |
| 매수호가6 | 매수6호가 | 6순위 매수호가 |
| 매수호가7 | 매수7호가 | 7순위 매수호가 |
| 매수호가8 | 매수8호가 | 8순위 매수호가 |
| 매수호가9 | 매수9호가 | 9순위 매수호가 |
| 매수호가10 | 매수10호가 | 10순위 매수호가 |

### 매수잔량 (1~10호가)
| FID | 필드명 | 설명 |
|-----|--------|------|
| 매수잔량1 | 매수1호가잔량 | 최우선 매수호가 잔량 |
| 매수잔량2 | 매수2호가잔량 | 2순위 매수호가 잔량 |
| 매수잔량3 | 매수3호가잔량 | 3순위 매수호가 잔량 |
| 매수잔량4 | 매수4호가잔량 | 4순위 매수호가 잔량 |
| 매수잔량5 | 매수5호가잔량 | 5순위 매수호가 잔량 |
| 매수잔량6 | 매수6호가잔량 | 6순위 매수호가 잔량 |
| 매수잔량7 | 매수7호가잔량 | 7순위 매수호가 잔량 |
| 매수잔량8 | 매수8호가잔량 | 8순위 매수호가 잔량 |
| 매수잔량9 | 매수9호가잔량 | 9순위 매수호가 잔량 |
| 매수잔량10 | 매수10호가잔량 | 10순위 매수호가 잔량 |

### 기타
| FID | 필드명 | 설명 |
|-----|--------|------|
| 10 | 현재가 | 현재 체결가 |
| 11 | 전일대비 | 전일 대비 등락폭 |
| 12 | 등락율 | 등락률 (%) |
| 13 | 누적거래량 | 누적 거래량 |
| 14 | 누적거래대금 | 누적 거래대금 |
| 15 | 거래량 | 거래량 |
| 16 | 시가 | 당일 시가 |
| 17 | 고가 | 당일 고가 |
| 18 | 저가 | 당일 저가 |
| 26 | 전일대비종가 | 전일 대비 종가 |
| 시간 | 호가시간 | 호가 발생 시간 |
| 호가체결구분 | 호가체결구분 | 호가/체결 구분 |

---

## 업종지수 (0J) - 공식 문서 기준

### 가격/지수
| FID | 필드명 | 설명 |
|-----|--------|------|
| 10 | 현재가 | 현재 지수값 |
| 11 | 전일대비 | 전일 대비 등락폭 |
| 12 | 등락율 | 등락률 (%) |
| 26 | 전일대비종가 | 전일 대비 종가 |

### 거래량/거래대금
| FID | 필드명 | 설명 |
|-----|--------|------|
| 13 | 누적거래량 | 누적 거래량 |
| 14 | 누적거래대금 | 누적 거래대금 |
| 15 | 거래량 | 거래량 |

### OHLC (Open/High/Low/Close)
| FID | 필드명 | 설명 |
|-----|--------|------|
| 16 | 시가 | 당일 시가 |
| 17 | 고가 | 당일 고가 |
| 18 | 저가 | 당일 저가 |

---

## 업종등락 (0U) - 공식 문서 기준

### 지수 정보
| FID | 필드명 | 설명 |
|-----|--------|------|
| 20 | 업종지수 | 업종 지수값 |
| 11 | 전일대비 | 전일 대비 등락폭 |
| 12 | 등락율 | 등락률 (%) |
| 19 | 대비기호 | 등락 기호 |

### 종목 통계
| FID | 필드명 | 설명 |
|-----|--------|------|
| 251 | 상한종목수 | 상한가 종목 수 |
| 252 | 상승종목수 | 상승 종목 수 |
| 253 | 보합종목수 | 보합 종목 수 |
| 254 | 하락종목수 | 하락 종목 수 |
| 255 | 하한종목수 | 하한가 종목 수 |
| 256 | 거래형성종목수 | 거래 형성 종목 수 |
| 257 | 거래형성비율 | 거래 형성 비율 (%) |

### 거래 정보
| FID | 필드명 | 설명 |
|-----|--------|------|
| 14 | 누적거래대금 | 누적 거래대금 |
| 25 | 전일대비거래량 | 전일 대비 거래량 |

---

## VI발동/해제 (1h) - 공식 문서 기준

### 기본 정보
| FID | 필드명 | 설명 |
|-----|--------|------|
| 9001 | 종목코드 | 종목 코드 |
| 902 | 종목명 | 종목 이름 |
| 9005 | KOSPI/KOSDAQ구분코드 | 시장 구분 |
| 9071 | 동적VI | 동적 VI 여부 |

### VI 발동/해제
| FID | 필드명 | 설명 |
|-----|--------|------|
| 9004 | VI발동구분값 | 발동(1) / 해제(0) |
| 1723 | VI해제시각 | 해제 시각 (HHmmss) |
| 1724 | VI발동시각 | 발동 시각 (HHmmss) |

### VI 가격 범위
| FID | 필드명 | 설명 |
|-----|--------|------|
| 1722 | 비율발동가격상한 | 비율 발동 상한가 |
| 1726 | 기준가격_상한 | 기준가격 상한 |
| 1727 | 기준가격_하한 | 기준가격 하한 |
| 1728 | 고정폭_상한 | 고정폭 상한 |
| 1729 | 고정폭_하한 | 고정폭 하한 |
| 1480 | VI정적기_상한값 | 정적 VI 상한값 |
| 1490 | VI정적기 | 정적 VI 값 |

### 기타
| FID | 필드명 | 설명 |
|-----|--------|------|
| 11 | 등락기호 | 등락 기호 |
| 14 | 누적거래대금 | 누적 거래대금 |
| 9010 | 비율동태 | 비율 동태값 |
| 1479 | 정적_NAV | 정적 NAV |

---

## ⚠️ 중요 사항

1. **FID는 문자열 키**: JSON에서 `{"10": "70500"}`처럼 문자열로 전송됨
2. **값도 문자열**: 숫자도 `"70500"` 형태로 전송되므로 파싱 필요
3. **TR 타입별로 다른 FID**: 같은 FID라도 TR에 따라 의미가 다를 수 있음
4. **공식 문서 필수**: Excel 문서에 전체 FID 매핑 필요

## 데이터 파싱 예제

```python
def parse_stock_tick(values: dict) -> dict:
    """주식체결 (0B) 데이터 파싱"""
    return {
        "price": int(values.get("10", "0")),  # 현재가
        "ask_price": int(values.get("27", "0")),  # 매도호가
        "bid_price": int(values.get("28", "0")),  # 매수호가
        "volume": int(values.get("911", "0")),  # 체결량
        "trade_price": int(values.get("910", "0"))  # 체결가
    }

# 사용
real_data = {
    "trnm": "REAL",
    "data": [{
        "type": "0B",
        "item": "005930",
        "values": {
            "10": "70500",
            "27": "70600",
            "28": "70500",
            "910": "70500",
            "911": "100"
        }
    }]
}

parsed = parse_stock_tick(real_data["data"][0]["values"])
# {"price": 70500, "ask_price": 70600, "bid_price": 70500, ...}
```

## 다음 단계

- [ ] Excel 문서에서 전체 FID 추출
- [ ] 장 시간 실제 데이터로 검증
- [ ] TR 타입별 파서 구현
